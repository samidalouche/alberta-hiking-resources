import{d as g,q as h,bs as b,a as c,c as w,a_ as e,b as r,w as s,u as t,bc as x,o,bt as z,n as k,bu as C,bv as v,bw as y,bx as D,by as B,bz as R,bA as T,bB as _,x as I,bC as L}from"./D-ZAHcwu.js";const P=g({__name:"ProseImg",props:{src:{default:""},alt:{default:""},width:{},height:{},lifted:{type:Boolean,default:!1},zoom:{type:Boolean,default:()=>{}},class:{default:""}},setup(a){const f=h(),[m,n]=b(),d=c(()=>{if(a.src?.startsWith("/")&&!a.src.startsWith("//")){const l=T(_(I().app.baseURL));if(l!=="/"&&!a.src.startsWith(l))return L(l,a.src)}return a.src}),i=c(()=>a.zoom===void 0?f.value.main.imageZoom:a.zoom);return(l,S)=>{const u=z;return o(),w(x,null,[e(t(m),null,{default:s(()=>[e(u,{src:t(d),alt:a.alt,width:a.width,height:a.height,class:k(["rounded-md",[a.lifted&&"rounded-lg border bg-card text-card-foreground shadow-xs",t(i)&&"cursor-zoom-in",a.class]])},null,8,["src","alt","width","height","class"])]),_:1}),t(i)?(o(),r(t(R),{key:0},{default:s(()=>[e(t(C),{class:"block w-full"},{default:s(()=>[e(t(n))]),_:1}),e(t(B),null,{default:s(()=>[e(t(v),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),e(t(y),{class:"p-0 fixed left-1/2 top-1/2 z-50 grid -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg"},{default:s(()=>[e(t(D),null,{default:s(()=>[e(u,{src:t(d),alt:a.alt,width:a.width,height:a.height,class:"md:rounded-lg cursor-zoom-out max-w-svw max-h-svh"},null,8,["src","alt","width","height"])]),_:1})]),_:1})]),_:1})]),_:1})):(o(),r(t(n),{key:1}))],64)}}}),j=Object.assign(P,{__name:"ProseImg"});export{j as default};
