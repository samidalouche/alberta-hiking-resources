const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Bl8vYY-A.js","./CzQNYqaM.js","./entry.CVkJKhgQ.css","./bNaE6FFb.js","./DgrZC8Kp.js","./BMYPR7BL.js","./ySlJ1b_l.js","./BPhBrDlE.js","./Dj6nwHGl.js","./BQoSv7ci.js","./5Ct-VuMp.js","./BFay_et-.js","./UIAJJxZW.js","./CVw76BM1.js"])))=>i.map(i=>d[i]);
var zt=Object.defineProperty;var Ke=e=>{throw TypeError(e)};var Qt=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ie=(e,t,r)=>Qt(e,typeof t!="symbol"?t+"":t,r),Je=(e,t,r)=>t.has(e)||Ke("Cannot "+r);var Ie=(e,t,r)=>(Je(e,t,"read from private field"),r?r.call(e):t.get(e)),Ye=(e,t,r)=>t.has(e)?Ke("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),he=(e,t,r,n)=>(Je(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{aJ as v}from"./CzQNYqaM.js";import{getMdcConfigs as Xt}from"./bNaE6FFb.js";class Ve extends Error{constructor(t){super(t),this.name="ShikiError"}}function Zt(){return 2147483648}function qt(){return typeof performance<"u"?performance.now():Date.now()}const Kt=(e,t)=>e+(t-e%t)%t;async function Jt(e){let t,r;const n={};function s(l){r=l,n.HEAPU8=new Uint8Array(l),n.HEAPU32=new Uint32Array(l)}function a(l,g,_){n.HEAPU8.copyWithin(l,g,g+_)}function i(l){try{return t.grow(l-r.byteLength+65535>>>16),s(t.buffer),1}catch{}}function o(l){const g=n.HEAPU8.length;l=l>>>0;const _=Zt();if(l>_)return!1;for(let A=1;A<=4;A*=2){let E=g*(1+.2/A);E=Math.min(E,l+100663296);const O=Math.min(_,Kt(Math.max(l,E),65536));if(i(O))return!0}return!1}const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(l,g,_=1024){const A=g+_;let E=g;for(;l[E]&&!(E>=A);)++E;if(E-g>16&&l.buffer&&u)return u.decode(l.subarray(g,E));let O="";for(;g<E;){let S=l[g++];if(!(S&128)){O+=String.fromCharCode(S);continue}const M=l[g++]&63;if((S&224)===192){O+=String.fromCharCode((S&31)<<6|M);continue}const V=l[g++]&63;if((S&240)===224?S=(S&15)<<12|M<<6|V:S=(S&7)<<18|M<<12|V<<6|l[g++]&63,S<65536)O+=String.fromCharCode(S);else{const F=S-65536;O+=String.fromCharCode(55296|F>>10,56320|F&1023)}}return O}function f(l,g){return l?c(n.HEAPU8,l,g):""}const p={emscripten_get_now:qt,emscripten_memcpy_big:a,emscripten_resize_heap:o,fd_write:()=>0};async function C(){const g=await e({env:p,wasi_snapshot_preview1:p});t=g.memory,s(t.buffer),Object.assign(n,g),n.UTF8ToString=f}return await C(),n}var Yt=Object.defineProperty,er=(e,t,r)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t,r)=>(er(e,typeof t!="symbol"?t+"":t,r),r);let L=null;function tr(e){throw new Ve(e.UTF8ToString(e.getLastOnigError()))}class Ee{constructor(t){$(this,"utf16Length"),$(this,"utf8Length"),$(this,"utf16Value"),$(this,"utf8Value"),$(this,"utf16OffsetToUtf8"),$(this,"utf8OffsetToUtf16");const r=t.length,n=Ee._utf8ByteLength(t),s=n!==r,a=s?new Uint32Array(r+1):null;s&&(a[r]=n);const i=s?new Uint32Array(n+1):null;s&&(i[n]=r);const o=new Uint8Array(n);let u=0;for(let c=0;c<r;c++){const f=t.charCodeAt(c);let p=f,C=!1;if(f>=55296&&f<=56319&&c+1<r){const l=t.charCodeAt(c+1);l>=56320&&l<=57343&&(p=(f-55296<<10)+65536|l-56320,C=!0)}s&&(a[c]=u,C&&(a[c+1]=u),p<=127?i[u+0]=c:p<=2047?(i[u+0]=c,i[u+1]=c):p<=65535?(i[u+0]=c,i[u+1]=c,i[u+2]=c):(i[u+0]=c,i[u+1]=c,i[u+2]=c,i[u+3]=c)),p<=127?o[u++]=p:p<=2047?(o[u++]=192|(p&1984)>>>6,o[u++]=128|(p&63)>>>0):p<=65535?(o[u++]=224|(p&61440)>>>12,o[u++]=128|(p&4032)>>>6,o[u++]=128|(p&63)>>>0):(o[u++]=240|(p&1835008)>>>18,o[u++]=128|(p&258048)>>>12,o[u++]=128|(p&4032)>>>6,o[u++]=128|(p&63)>>>0),C&&c++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=o,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=i}static _utf8ByteLength(t){let r=0;for(let n=0,s=t.length;n<s;n++){const a=t.charCodeAt(n);let i=a,o=!1;if(a>=55296&&a<=56319&&n+1<s){const u=t.charCodeAt(n+1);u>=56320&&u<=57343&&(i=(a-55296<<10)+65536|u-56320,o=!0)}i<=127?r+=1:i<=2047?r+=2:i<=65535?r+=3:r+=4,o&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const D=class{constructor(e){if($(this,"id",++D.LAST_ID),$(this,"_onigBinding"),$(this,"content"),$(this,"utf16Length"),$(this,"utf8Length"),$(this,"utf16OffsetToUtf8"),$(this,"utf8OffsetToUtf16"),$(this,"ptr"),!L)throw new Ve("Must invoke loadWasm first.");this._onigBinding=L,this.content=e;const t=new Ee(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!D._sharedPtrInUse?(D._sharedPtr||(D._sharedPtr=L.omalloc(1e4)),D._sharedPtrInUse=!0,L.HEAPU8.set(t.utf8Value,D._sharedPtr),this.ptr=D._sharedPtr):this.ptr=t.createString(L)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===D._sharedPtr?D._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let ce=D;$(ce,"LAST_ID",0);$(ce,"_sharedPtr",0);$(ce,"_sharedPtrInUse",!1);class rr{constructor(t){if($(this,"_onigBinding"),$(this,"_ptr"),!L)throw new Ve("Must invoke loadWasm first.");const r=[],n=[];for(let o=0,u=t.length;o<u;o++){const c=new Ee(t[o]);r[o]=c.createString(L),n[o]=c.utf8Length}const s=L.omalloc(4*t.length);L.HEAPU32.set(r,s/4);const a=L.omalloc(4*t.length);L.HEAPU32.set(n,a/4);const i=L.createOnigScanner(s,a,t.length);for(let o=0,u=t.length;o<u;o++)L.ofree(r[o]);L.ofree(a),L.ofree(s),i===0&&tr(L),this._onigBinding=L,this._ptr=i}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let s=0;if(typeof n=="number"&&(s=n),typeof t=="string"){t=new ce(t);const a=this._findNextMatchSync(t,r,!1,s);return t.dispose(),a}return this._findNextMatchSync(t,r,!1,s)}_findNextMatchSync(t,r,n,s){const a=this._onigBinding,i=a.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),s);if(i===0)return null;const o=a.HEAPU32;let u=i/4;const c=o[u++],f=o[u++],p=[];for(let C=0;C<f;C++){const l=t.convertUtf8OffsetToUtf16(o[u++]),g=t.convertUtf8OffsetToUtf16(o[u++]);p[C]={start:l,end:g,length:g-l}}return{index:c,captureIndices:p}}}function nr(e){return typeof e.instantiator=="function"}function sr(e){return typeof e.default=="function"}function ar(e){return typeof e.data<"u"}function ir(e){return typeof Response<"u"&&e instanceof Response}function or(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let ge;function ur(e){if(ge)return ge;async function t(){L=await Jt(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),nr(n)?n=await n.instantiator(r):sr(n)?n=await n.default(r):(ar(n)&&(n=n.data),ir(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await cr(n)(r):n=await lr(n)(r):or(n)?n=await $e(n)(r):n instanceof WebAssembly.Module?n=await $e(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await $e(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return ge=t(),ge}function $e(e){return t=>WebAssembly.instantiate(e,t)}function cr(e){return t=>WebAssembly.instantiateStreaming(e,t)}function lr(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}let fr;function us(){return fr}async function pr(e){return e&&await ur(e),{createScanner(t){return new rr(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new ce(t)}}}const je=String.raw,et=je`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,tt=je`\u{E0061}-\u{E007A}`,hr=()=>new RegExp(je`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${tt}]{2}[\u{E0030}-\u{E0039}${tt}]{1,3}\u{E007F}|${et}(?:\u200D${et})*`,"gu"),U=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function ke(e,t,r,n){const s=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1];let i=0,o="";for(const u of e.matchAll(s)){const{0:c,groups:{$skip:f}}=u;if(!f&&(!n||n===U.DEFAULT==!i)){r instanceof Function?o+=r(u,{context:i?U.CHAR_CLASS:U.DEFAULT,negated:a[a.length-1]}):o+=r;continue}c[0]==="["?(i++,a.push(c[1]==="^")):c==="]"&&i&&(i--,a.pop()),o+=c}return o}function gr(e,t,r,n){ke(e,t,r,n)}function dr(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const s=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let a=0,i;for(;i=s.exec(e);){const{0:o,groups:{$skip:u}}=i;if(!u&&(!n||n===U.DEFAULT==!a))return i;o==="["?a++:o==="]"&&a&&a--,s.lastIndex==i.index&&s.lastIndex++}return null}function de(e,t,r){return!!dr(e,t,0,r)}function mr(e,t){const r=/\\?./gsu;r.lastIndex=t;let n=e.length,s=0,a=1,i;for(;i=r.exec(e);){const[o]=i;if(o==="[")s++;else if(s)o==="]"&&s--;else if(o==="(")a++;else if(o===")"&&(a--,!a)){n=i.index;break}}return e.slice(t,n)}const Y="$E$";class He extends RegExp{constructor(r,n,s){if(r instanceof RegExp&&s)throw new Error("Cannot provide options when copying a regexp");const a=!!(s!=null&&s.useEmulationGroups),i=a?Cr(r):null;super((i==null?void 0:i.expression)||r,n);ie(this,"_captureMap");ie(this,"_namesByIndex");const o=a?i:r instanceof He?r:null;o&&(this._captureMap=o._captureMap,this._namesByIndex=o._namesByIndex)}exec(r){const n=RegExp.prototype.exec.call(this,r);if(!n||!this._captureMap)return n;const s=[...n];n.length=1;let a;this.hasIndices&&(a=[...n.indices],n.indices.length=1);for(let i=1;i<s.length;i++)if(this._captureMap[i].exclude){const o=this._captureMap[i].transfer;if(o&&n.length>o){n[o]=s[i];const u=this._namesByIndex[o];u&&(n.groups[u]=s[i],this.hasIndices&&(n.indices.groups[u]=a[i])),this.hasIndices&&(n.indices[o]=a[i])}}else n.push(s[i]),this.hasIndices&&n.indices.push(a[i]);return n}}function Cr(e){const t=Y.replace(/\$/g,"\\$"),r=[{exclude:!1}],n={0:""};let s=0;return e=ke(e,String.raw`\((?:(?!\?)|\?<(?![=!])(?<name>[^>]+)>)(?<mark>(?:\$(?<transfer>[1-9]\d*))?${t})?`,({0:a,groups:{name:i,mark:o,transfer:u}})=>o?(r.push({exclude:!0,transfer:u&&+u}),a.slice(0,-o.length)):(s++,i&&(n[s]=i),r.push({exclude:!1}),a),U.DEFAULT),{_captureMap:r,_namesByIndex:n,expression:e}}const _r=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function wr(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}const rt=new RegExp(String.raw`(?<noncapturingStart>${_r})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function yr(e,t){if(!/\(\?>/.test(e))return e;const r="(?>",n=`(?:(?=(${t!=null&&t.useEmulationGroups?Y:""}`,s=[0];let a=0,i=0,o=NaN,u;do{u=!1;let c=0,f=0,p=!1,C;for(rt.lastIndex=Number.isNaN(o)?0:o+n.length;C=rt.exec(e);){const{0:l,index:g,groups:{capturingStart:_,noncapturingStart:A}}=C;if(l==="[")c++;else if(c)l==="]"&&c--;else if(l===r&&!p)o=g,p=!0;else if(p&&A)f++;else if(_)p?f++:(a++,s.push(a+i));else if(l===")"&&p){if(!f){i++,e=`${e.slice(0,o)}${n}${e.slice(o+r.length,g)}))<$$${i+a}>)${e.slice(g+1)}`,u=!0;break}f--}}}while(u);return e=ke(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:c,groups:{backrefNum:f,wrappedBackrefNum:p}})=>{if(f){const C=+f;if(C>s.length-1)throw new Error(`Backref "${c}" greater than number of captures`);return`\\${s[C]}`}return`\\${p}`},U.DEFAULT),e}const dt=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,xe=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${dt})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function Er(e){if(!new RegExp(`${dt}\\+`).test(e))return e;const t=[];let r=null,n=null,s="",a=0,i;for(xe.lastIndex=0;i=xe.exec(e);){const{0:o,index:u,groups:{qBase:c,qMod:f,invalidQ:p}}=i;if(o==="[")a||(n=u),a++;else if(o==="]")a?a--:n=null;else if(!a)if(f==="+"&&s&&!s.startsWith("(")){if(p)throw new Error(`Invalid quantifier "${o}"`);let C=-1;if(/^\{\d+\}$/.test(c))e=wr(e,u+c.length,f,"");else{if(s===")"||s==="]"){const l=s===")"?r:n;if(l===null)throw new Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,l)}(?>${e.slice(l,u)}${c})${e.slice(u+o.length)}`}else e=`${e.slice(0,u-s.length)}(?>${s}${c})${e.slice(u+o.length)}`;C+=4}xe.lastIndex+=C}else o[0]==="("?t.push(u):o===")"&&(r=t.length?t.pop():null);s=o}return e}const R=String.raw,kr=R`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,Re=R`\(\?R=(?<rDepth>[^\)]+)\)|${kr}`,ve=R`\(\?<(?![=!])(?<captureName>[^>]+)>`,z=new RegExp(R`${ve}|${Re}|\(\?|\\?.`,"gsu"),Le="Cannot use multiple overlapping recursions",Ue=new RegExp(R`(?:\$[1-9]\d*)?${Y.replace(/\$/g,R`\$`)}`,"y");function vr(e,t){if(!new RegExp(Re,"su").test(e))return e;if(de(e,R`\(\?\(DEFINE\)`,U.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const r=!!(t!=null&&t.useEmulationGroups),n=de(e,R`\\[1-9]`,U.DEFAULT),s=new Map,a=[];let i=!1,o=0,u=0,c;for(z.lastIndex=0;c=z.exec(e);){const{0:f,groups:{captureName:p,rDepth:C,gRNameOrNum:l,gRDepth:g}}=c;if(f==="[")o++;else if(o)f==="]"&&o--;else if(C){if(nt(C),i)throw new Error(Le);if(n)throw new Error("Numbered backrefs cannot be used with global recursion");const _=e.slice(0,c.index),A=e.slice(z.lastIndex);if(de(A,Re,U.DEFAULT))throw new Error(Le);return st(_,A,+C,!1,r)}else if(l){nt(g);let _=!1;for(const G of a)if(G.name===l||G.num===+l){if(_=!0,G.hasRecursedWithin)throw new Error(Le);break}if(!_)throw new Error(R`Recursive \g cannot be used outside the referenced group "\g<${l}&R=${g}>"`);const A=s.get(l),E=mr(e,A);if(n&&de(E,R`${ve}|\((?!\?)`,U.DEFAULT))throw new Error("Numbered backrefs cannot be used with recursion of capturing groups");const O=e.slice(A,c.index),S=E.slice(O.length+f.length),M=st(O,S,+g,!0,r),V=e.slice(0,A),F=e.slice(A+E.length);e=`${V}${M}${F}`,z.lastIndex+=M.length-f.length-O.length-S.length,a.forEach(G=>G.hasRecursedWithin=!0),i=!0}else if(p)u++,s.set(String(u),z.lastIndex),s.set(p,z.lastIndex),a.push({num:u,name:p});else if(f.startsWith("(")){const _=f==="(";_&&(u++,s.set(String(u),z.lastIndex+(r?Ar(e,z.lastIndex):0))),a.push(_?{num:u}:{})}else f===")"&&a.pop()}return e}function nt(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}function st(e,t,r,n,s){const a=new Set;n&&gr(e+t,ve,({groups:{captureName:o}})=>{a.add(o)},U.DEFAULT);const i=r-1;return`${e}${at(`(?:${e}`,i,n?a:null,"forward",s)}(?:)${at(`${t})`,i,n?a:null,"backward",s)}${t}`}function at(e,t,r,n,s){const i=u=>n==="backward"?t-u+2-1:u+2;let o="";for(let u=0;u<t;u++){const c=i(u);o+=ke(e,R`${ve}|\\k<(?<backref>[^>]+)>${s?R`|(?<unnamed>\()(?!\?)(?:${Ue.source})?`:""}`,({0:f,index:p,groups:{captureName:C,backref:l,unnamed:g}})=>{if(l&&r&&!r.has(l))return f;if(g)return`(${Y}`;const _=`_$${c}`;return C?`(?<${C}${_}>${s?Y:""}`:R`\k<${l}${_}>`},U.DEFAULT)}return o}function Ar(e,t){Ue.lastIndex=t;const r=Ue.exec(e);return r?r[0].length:0}var x=String.fromCodePoint,m=String.raw,br=(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),Sr=(()=>{try{new RegExp("","v")}catch{return!1}return!0})();function _e(e,{enable:t,disable:r}){return{dotAll:!(r!=null&&r.dotAll)&&!!(t!=null&&t.dotAll||e.dotAll),ignoreCase:!(r!=null&&r.ignoreCase)&&!!(t!=null&&t.ignoreCase||e.ignoreCase)}}function we(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function Ne(e,t){return it[e]>=it[t]}function W(e,t){if(!e)throw new Error(t??"Value expected");return e}var it={ES2025:2025,ES2024:2024,ES2018:2018},Ir={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function mt(e){if((e==null?void 0:e.target)!==void 0&&!Ir[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e==null?void 0:e.rules}};return t.target==="auto"&&(t.target=br?"ES2025":Sr?"ES2024":"ES2018"),t}var $r=new Set([x(304),x(305)]);function Ct(e){if($r.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),s=Tr.get(r),a=Lr.get(r),i=Pr.get(r);return[...n].length===1&&t.add(n),i&&t.add(i),s&&t.add(s),t.add(r),a&&t.add(a),[...t]}var _t=new Set(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/)),wt=new Map;for(const e of _t)wt.set(Ae(e),e);var xr=new Set(["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji","RGI_Emoji_Flag_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence"]),yt=new Map;for(const e of xr)yt.set(Ae(e),e);var Lr=new Map([["s",x(383)],[x(383),"s"]]),Pr=new Map([[x(223),x(7838)],[x(107),x(8490)],[x(229),x(8491)],[x(969),x(8486)]]),Tr=new Map([Q(453),Q(456),Q(459),Q(498),...Pe(8072,8079),...Pe(8088,8095),...Pe(8104,8111),Q(8124),Q(8140),Q(8188)]),Et=new Map([["alnum",m`[\p{Alpha}\p{Nd}]`],["alpha",m`\p{Alpha}`],["ascii",m`\p{ASCII}`],["blank",m`[\p{Zs}\t]`],["cntrl",m`\p{cntrl}`],["digit",m`\p{Nd}`],["graph",m`[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]`],["lower",m`\p{Lower}`],["print",m`[[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",m`[\p{P}\p{S}]`],["space",m`\p{space}`],["upper",m`\p{Upper}`],["word",m`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",m`\p{AHex}`]]),Or=new Set(["alnum","blank","graph","print","word","xdigit"]);function Fr(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function Ae(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Q(e){const t=x(e);return[t.toLowerCase(),t]}function Pe(e,t){return Fr(e,t).map(r=>Q(r))}var kt=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),d={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",VariableLengthCharacterSet:"VariableLengthCharacterSet",EscapedNumber:"EscapedNumber"},P={any:"any",digit:"digit",dot:"dot",hex:"hex",non_newline:"non_newline",posix:"posix",property:"property",space:"space",word:"word"},be={flags:"flags",keep:"keep"},T={absent_repeater:"absent_repeater",atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},ot=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),vt=m`\[\^?`,At=`c.? | C(?:-.?)?|${m`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${m`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${m`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${m`o\{[^\}]*\}?`}|${m`\d{1,3}`}`,bt=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,me=new RegExp(m`
  \\ (?:
    ${At}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?: \? (?:
    [:=!>(]
    | <[=!]
    | <[^>]*>
    | '[^']*'
    | ~\|?
    | # (?:[^)\\] | \\.?)*
    | [imx\-]+[:)]
  )?)?
  | ${bt.source}
  | ${vt}
  | .
`.replace(/\s+/g,""),"gsu"),Te=new RegExp(m`
  \\ (?:
    ${At}
    | .
  )
  | \[:[^:]*:\]
  | ${vt}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function St(e,t="",r){if(r={captureGroup:!1,singleline:!1,...r},typeof e!="string")throw new Error("String expected as pattern");if(!/^[imxDSW]*$/.test(t))throw new Error(`Flags "${t}" includes unsupported value`);const n=t.includes("x"),s=[n],a={captureGroup:r.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(p){s.push(p)},replaceCurrentModX(p){s[s.length-1]=p},singleline:r.singleline};let i=[],o;for(me.lastIndex=0;o=me.exec(e);){const p=Gr(a,e,o[0],me.lastIndex);p.tokens?i.push(...p.tokens):p.token&&i.push(p.token),p.lastIndex!==void 0&&(me.lastIndex=p.lastIndex)}const u=[];let c=0;i.forEach(p=>{p.type===d.GroupOpen&&(p.kind===T.capturing?p.number=++c:p.raw==="("&&u.push(p))}),c||u.forEach((p,C)=>{p.kind=T.capturing,p.number=C+1});const f=c||u.length;return i=i.map(p=>p.type===d.EscapedNumber?Hr(p,f):p).flat(),{tokens:i,flags:{ignoreCase:t.includes("i"),dotAll:t.includes("m"),extended:n,digitIsAscii:t.includes("D"),spaceIsAscii:t.includes("S"),wordIsAscii:t.includes("W")},rules:r}}function Gr(e,t,r,n){const[s,a,i]=r;if(s==="["){const o=Rr(t,r,n);return{tokens:o.tokens,lastIndex:o.lastIndex}}if(s==="\\"){if("AbBGzZ".includes(a))return{token:w(d.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:w(d.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:w(d.Backreference,r)}}if(a==="K")return{token:w(d.Directive,r,{kind:be.keep})};if(a==="N")return{token:w(d.CharacterSet,r,{kind:P.non_newline})};if(a==="O")return{token:w(d.CharacterSet,r,{kind:P.any})};if("RX".includes(a))return{token:w(d.VariableLengthCharacterSet,r,{kind:r})};if("yY".includes(a))throw new Error(`Unsupported grapheme boundary "${r}"`);const o=It(r,{inCharClass:!1});return Array.isArray(o)?{tokens:o}:{token:o}}if(s==="("){if(i==="#"){if(t[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if("-imx".includes(i))return{token:Mr(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:w(d.GroupOpen,r,{kind:T.group})};if(r==="(?>")return{token:w(d.GroupOpen,r,{kind:T.atomic})};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:w(d.GroupOpen,r,{kind:i==="<"?T.lookbehind:T.lookahead,negate:r.endsWith("!")})};if(i==="<"||i==="'"||r==="("&&e.captureGroup){const o=w(d.GroupOpen,r,{kind:T.capturing});return r!=="("&&(o.name=r.slice(3,-1)),{token:o}}if(i==="~"){if(r==="(?~|")throw new Error(`Unsupported absent function kind "${r}"`);return{token:w(d.GroupOpen,r,{kind:T.absent_repeater})}}throw i==="("?new Error(`Unsupported conditional "${r}"`):r==="(?"?new Error("Invalid group"):new Error(`Unexpected group "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:w(d.GroupClose,r)}}if(r==="#"&&e.getCurrentModX()){const o=t.indexOf(`
`,n);return{lastIndex:o===-1?t.length:o}}if(/^\s$/.test(r)&&e.getCurrentModX()){const o=/\s+/y;return o.lastIndex=n,{lastIndex:o.exec(t)?o.lastIndex:n}}if(r===".")return{token:w(d.CharacterSet,r,{kind:P.dot})};if(r==="^"||r==="$"){const o=e.singleline?{"^":m`\A`,$:m`\Z`}[r]:r;return{token:w(d.Assertion,r,{kind:o})}}return r==="|"?{token:w(d.Alternator,r)}:bt.test(r)?{token:Dr(r)}:($t(r),{token:w(d.Character,r,{value:r.codePointAt(0)})})}function Rr(e,t,r){const n=[w(d.CharacterClassOpen,t,{negate:t[1]==="^"})];let s=1,a;for(Te.lastIndex=r;a=Te.exec(e);){const i=a[0];if(i[0]==="["&&i[1]!==":")s++,n.push(w(d.CharacterClassOpen,i,{negate:i[1]==="^"}));else if(i==="]"){if(n.at(-1).type===d.CharacterClassOpen)n.push(w(d.Character,i,{value:93}));else if(s--,n.push(w(d.CharacterClassClose,i)),!s)break}else{const o=Ur(i);Array.isArray(o)?n.push(...o):n.push(o)}}return{tokens:n,lastIndex:Te.lastIndex||e.length}}function Ur(e){if(e[0]==="\\")return It(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!Et.get(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return w(d.CharacterSet,e,{kind:P.posix,negate:!!t.groups.negate,value:t.groups.name})}return e==="-"?w(d.CharacterClassHyphen,e):e==="&&"?w(d.CharacterClassIntersector,e):($t(e),w(d.Character,e,{value:e.codePointAt(0)}))}function It(e,{inCharClass:t}){const r=e[1];if(r==="c"||r==="C")return Nr(e);if("dDhHsSwW".includes(r))return Br(e);if(e.startsWith(m`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return Vr(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const n=e.split(/\\x/).slice(1).map(o=>parseInt(o,16)),s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),a=new TextEncoder;return[...s].map(o=>{const u=[...a.encode(o)].map(c=>`\\x${c.toString(16)}`).join("");return w(d.Character,u,{value:o.codePointAt(0)})})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return w(d.Character,e,{value:jr(e)});if(ot.has(r))return w(d.Character,e,{value:ot.get(r)});if(/\d/.test(r))return w(d.EscapedNumber,e,{inCharClass:t});if(e==="\\")throw new Error(m`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return w(d.Character,e,{value:e.codePointAt(1)});throw new Error(`Unexpected escape "${e}"`)}function w(e,t,r){return{type:e,raw:t,...r}}function Nr(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return w(d.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}function Mr(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[imx\-]*))?/.exec(e).groups;n??(n="");const s=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),a=ut(r),i=ut(n),o={};if(a&&(o.enable=a),i&&(o.disable=i),e.endsWith(")"))return t.replaceCurrentModX(s),w(d.Directive,e,{kind:be.flags,flags:o});if(e.endsWith(":")){t.pushModX(s),t.numOpenGroups++;const u=w(d.GroupOpen,e,{kind:T.group});return(a||i)&&(u.flags=o),u}throw new Error(`Unexpected flag modifier "${e}"`)}function Dr(e){const t={};if(e[0]==="{"){const{min:r,max:n}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups,s=1e5;if(+r>s||+n>s)throw new Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=n===void 0?+r:n===""?1/0:+n,t.greedy=!e.endsWith("?"),t.possessive=!1}else t.min=e[0]==="+"?1:0,t.max=e[0]==="?"?1:1/0,t.greedy=e[1]!=="?",t.possessive=e[1]==="+";return w(d.Quantifier,e,t)}function Br(e){const t=e[1].toLowerCase();return w(d.CharacterSet,e,{kind:{d:P.digit,h:P.hex,s:P.space,w:P.word}[t],negate:e[1]!==t})}function Vr(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups,s=t==="P"&&!r||t==="p"&&!!r;return w(d.CharacterSet,e,{kind:P.property,negate:s,value:n})}function ut(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function jr(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function Hr(e,t){const{raw:r,inCharClass:n}=e,s=r.slice(1);if(!n&&(s!=="0"&&s.length===1||s[0]!=="0"&&+s<=t))return[w(d.Backreference,r)];const a=[],i=s.match(/^[0-7]+|\d/g);for(let o=0;o<i.length;o++){const u=i[o];let c;if(o===0&&u!=="8"&&u!=="9"){if(c=parseInt(u,8),c>127)throw new Error(m`Octal encoded byte above 177 unsupported "${r}"`)}else c=u.codePointAt(0);a.push(w(d.Character,(o===0?"\\":"")+u,{value:c}))}return a}function $t(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`)}function We({alternatives:e},t){return e.length===1&&e[0].elements.length===1&&(!t||t(e[0].elements[0]))}function Wr({type:e}){return e===h.Assertion||e===h.Directive}function zr(e){const t=[h.Character,h.CharacterClass,h.CharacterSet];return t.includes(e.type)||e.type===h.Quantifier&&e.min&&t.includes(e.element.type)}function xt({type:e}){return e===h.CapturingGroup||e===h.Group}function le({type:e,kind:t}){return e===h.Assertion&&(t===y.lookahead||t===y.lookbehind)}function ne(e,t,r){let n=e.node;for(;n.parent;)n=n.parent;function s(i,o){for(let u=0;u<i.length;u++){const c=a(i[u],o,u,i);u=Math.max(-1,u+c)}}function a(i,o=null,u=null,c=null){let f=0,p=!1;const C={node:i,parent:o,key:u,container:c,ast:n,remove(){W(c,"Container expected").splice(Math.max(0,u+f),1),f-=1},removeAllNextSiblings(){return W(c,"Container expected").splice(u+1)},removeAllPrevSiblings(){const E=u+f;return f-=E,W(c,"Container expected").splice(0,Math.max(0,E))},replaceWith(E){Xr(E,o),c?c[Math.max(0,u+f)]=E:o[u]=E},skip(){p=!0}},l=Qr(i).find(E=>!!r[E]),g=l&&r[l],_=typeof g=="function"?g:g==null?void 0:g.enter,A=g==null?void 0:g.exit;if(_==null||_(C,t),!p)switch(i.type){case h.Regex:a(i.pattern,i,"pattern"),a(i.flags,i,"flags");break;case h.Alternative:case h.CharacterClass:s(i.elements,i);break;case h.Assertion:le(i)&&s(i.alternatives,i);break;case h.Backreference:case h.Character:case h.CharacterSet:case h.Directive:case h.Flags:case h.Recursion:case h.Subroutine:case h.VariableLengthCharacterSet:break;case h.AbsentFunction:case h.CapturingGroup:case h.Group:case h.Pattern:s(i.alternatives,i);break;case h.CharacterClassIntersection:s(i.classes,i);break;case h.CharacterClassRange:a(i.min,i,"min"),a(i.max,i,"max");break;case h.Quantifier:a(i.element,i,"element");break;default:throw new Error(`Unexpected node type "${i.type}"`)}return A==null||A(C,t),f}a(e.node,e.parent,e.key,e.container)}var ct={AnyGroup:"AnyGroup",AnyNode:"AnyNode"};function Qr(e){const t=[ct.AnyNode];return(xt(e)||le(e))&&t.push(ct.AnyGroup),t.push(e.type),t}function Xr(e,t){"parent"in t&&(e.parent=t)}var h={AbsentFunction:"AbsentFunction",Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassIntersection:"CharacterClassIntersection",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",VariableLengthCharacterSet:"VariableLengthCharacterSet",Recursion:"Recursion"},Zr={repeater:"repeater"},y={line_end:"line_end",line_start:"line_start",lookahead:"lookahead",lookbehind:"lookbehind",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},b=P,Ce=be,ye={grapheme:"grapheme",newline:"newline"};function Lt({tokens:e,flags:t,rules:r},n){const s={skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,verbose:!1,...n},a={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,parent:null,skipBackrefValidation:s.skipBackrefValidation,skipLookbehindValidation:s.skipLookbehindValidation,skipPropertyNameValidation:s.skipPropertyNameValidation,subroutines:[],token:null,tokens:e,verbose:s.verbose,walk:i};function i(l,g){const _=e[a.current];switch(a.parent=l,a.token=_,a.current++,_.type){case d.Alternator:return Z();case d.Assertion:return sn(_);case d.Backreference:return qr(a);case d.Character:return Ot(_.value,{useLastValid:!!g.isCheckingRangeEnd});case d.CharacterClassHyphen:return Kr(a,g);case d.CharacterClassOpen:return Jr(a,g);case d.CharacterSet:return Yr(a);case d.Directive:return cn(_);case d.GroupOpen:return en(a,g);case d.Quantifier:return tn(a);case d.Subroutine:return rn(a);case d.VariableLengthCharacterSet:return gn(_.kind);default:throw new Error(`Unexpected token type "${_.type}"`)}}const o=pn(fn(),ln(t));let u=o.pattern.alternatives[0];for(;a.current<e.length;){const l=i(u,{});l.type===h.Alternative?(o.pattern.alternatives.push(l),u=l):u.elements.push(l)}const{capturingGroups:c,hasNumberedRef:f,namedGroupsByName:p,subroutines:C}=a;if(f&&p.size&&!r.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:l}of C)if(typeof l=="number"){if(l>c.length)throw new Error("Subroutine uses a group number that's not defined")}else if(p.has(l)){if(p.get(l).length>1)throw new Error(m`Subroutine uses a duplicate group name "\g<${l}>"`)}else throw new Error(m`Subroutine uses a group name that's not defined "\g<${l}>"`);return ne({node:o},null,{AnyNode({node:l,parent:g}){l.parent=g}}),o}function qr(e){const{raw:t}=e.token,r=/^\\k[<']/.test(t),n=r?t.slice(3,-1):t.slice(1),s=(a,i=!1)=>{const o=e.capturingGroups.length;let u=!1;if(a>o)if(e.skipBackrefValidation)u=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,Me(i?o+1-a:a,{orphan:u})};if(r){const a=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(a)return s(+a.groups.num,!!a.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${t}"`);return Me(n)}return s(+n)}function Kr(e,t){const{parent:r,tokens:n,walk:s}=e,a=r.elements.at(-1),i=n[e.current];if(!t.isCheckingRangeEnd&&a&&a.type!==h.CharacterClass&&a.type!==h.CharacterClassRange&&i&&i.type!==d.CharacterClassOpen&&i.type!==d.CharacterClassClose&&i.type!==d.CharacterClassIntersector){const o=s(r,{...t,isCheckingRangeEnd:!0});if(a.type===h.Character&&o.type===h.Character)return r.elements.pop(),un(a,o);throw new Error("Invalid character class range")}return Ot(45)}function Jr(e,t){const{token:r,tokens:n,verbose:s,walk:a}=e,i=n[e.current];let o=De({negate:r.negate});const u=o.elements[0];let c=lt(i);for(;c.type!==d.CharacterClassClose;){if(c.type===d.CharacterClassIntersector)u.classes.push(De({negate:!1,baseOnly:!0})),e.current++;else{const f=u.classes.at(-1);f.elements.push(a(f,t))}c=lt(n[e.current],i)}if(s||_n(u),u.classes.length===1){const f=u.classes[0];f.negate=o.negate!==f.negate,o=f}return e.current++,o}function Yr({token:e,skipPropertyNameValidation:t}){let{kind:r,negate:n,value:s}=e;if(r===P.property){const a=Ae(s);if(Or.has(a))r=P.posix,s=a;else return te(s,{negate:n,skipPropertyNameValidation:t})}return r===P.posix?{type:h.CharacterSet,kind:b.posix,negate:n,value:s}:Be(r,{negate:n})}function en(e,t){const{token:r,tokens:n,capturingGroups:s,namedGroupsByName:a,skipLookbehindValidation:i,verbose:o,walk:u}=e;let c=an(r);const f=c.type===h.AbsentFunction,p=c.kind===y.lookbehind,C=p&&c.negate;if(c.type===h.CapturingGroup&&(s.push(c),c.name&&we(a,c.name,[]).push(c)),f&&t.isInAbsentFunction)throw new Error("Nested absent function not supported by Oniguruma");let l=ft(n[e.current]);for(;l.type!==d.GroupClose;){if(l.type===d.Alternator)c.alternatives.push(Z()),e.current++;else{const g=c.alternatives.at(-1),_=u(g,{...t,isInAbsentFunction:t.isInAbsentFunction||f,isInLookbehind:t.isInLookbehind||p,isInNegLookbehind:t.isInNegLookbehind||C});if(g.elements.push(_),(p||t.isInLookbehind)&&!i){const A="Lookbehind includes a pattern not allowed by Oniguruma";if(C||t.isInNegLookbehind){if(_.kind===y.lookahead||_.type===h.CapturingGroup)throw new Error(A)}else if(_.kind===y.lookahead||_.kind===y.lookbehind&&_.negate)throw new Error(A)}}l=ft(n[e.current])}return o||(c=mn(c)),e.current++,c}function tn({token:e,parent:t}){const{min:r,max:n,greedy:s,possessive:a}=e,i=t.elements.at(-1);if(!i||i.type===h.Assertion||i.type===h.Directive)throw new Error("Quantifier requires a repeatable token");const o=Ft(i,r,n,s,a);return t.elements.pop(),o}function rn(e){const{token:t,capturingGroups:r,subroutines:n}=e;let s=t.raw.slice(3,-1);const a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(s);if(a){const o=+a.groups.num,u=r.length;if(e.hasNumberedRef=!0,s={"":o,"+":u+o,"-":u+1-o}[a.groups.sign],s<1)throw new Error("Invalid subroutine number")}else s==="0"&&(s=0);const i=hn(s);return n.push(i),i}function nn(e){return{type:h.AbsentFunction,kind:e,alternatives:[Z()]}}function Z(){return{type:h.Alternative,elements:[]}}function Pt(e,t){const r=!!(t!=null&&t.negate);return{type:h.Assertion,kind:e,...e===y.word_boundary&&{negate:r}}}function sn({kind:e}){return Pt(W({"^":y.line_start,$:y.line_end,"\\A":y.string_start,"\\b":y.word_boundary,"\\B":y.word_boundary,"\\G":y.search_start,"\\z":y.string_end,"\\Z":y.string_end_newline}[e],`Unexpected assertion kind "${e}"`),{negate:e===m`\B`})}function Me(e,t){const r=!!(t!=null&&t.orphan);return{type:h.Backreference,...r&&{orphan:r},ref:e}}function an({flags:e,kind:t,name:r,negate:n,number:s}){switch(t){case T.absent_repeater:return nn(Zr.repeater);case T.atomic:return B({atomic:!0});case T.capturing:return Tt(s,r);case T.group:return B({flags:e});case T.lookahead:case T.lookbehind:return oe({behind:t===T.lookbehind,negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}function Tt(e,t){const r=t!==void 0;if(r&&!Cn(t))throw new Error(`Group name "${t}" invalid in Oniguruma`);return{type:h.CapturingGroup,number:e,...r&&{name:t},alternatives:[Z()]}}function Ot(e,t){const r={useLastValid:!1,...t};if(e>1114111){const n=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:h.Character,value:e}}function De(e){const t={baseOnly:!1,negate:!1,...e};return{type:h.CharacterClass,negate:t.negate,elements:t.baseOnly?[]:[on()]}}function on(){return{type:h.CharacterClassIntersection,classes:[De({negate:!1,baseOnly:!0})]}}function un(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:h.CharacterClassRange,min:e,max:t}}function Be(e,{negate:t}){const r={type:h.CharacterSet,kind:W(b[e],`Unexpected character set kind "${e}"`)};return(e===P.digit||e===P.hex||e===P.space||e===P.word)&&(r.negate=t),r}function cn({kind:e,flags:t}){const r={type:h.Directive,kind:W(Ce[e],`Unexpected directive kind "${e}"`)};return e===be.flags&&(r.flags=t),r}function ln({ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:s,wordIsAscii:a}){return{type:h.Flags,ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:s,wordIsAscii:a}}function B(e){const t=e==null?void 0:e.atomic,r=e==null?void 0:e.flags;return{type:h.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[Z()]}}function oe(e){const t={behind:!1,negate:!1,...e};return{type:h.Assertion,kind:t.behind?y.lookbehind:y.lookahead,negate:t.negate,alternatives:[Z()]}}function fn(){return{type:h.Pattern,alternatives:[Z()]}}function Ft(e,t,r,n=!0,s=!1){const a={type:h.Quantifier,min:t,max:r,greedy:n,possessive:s,element:e};return r<t?{...a,min:r,max:t,possessive:!0}:a}function pn(e,t){return{type:h.Regex,pattern:e,flags:t}}function hn(e){return{type:h.Subroutine,ref:e}}function te(e,t){const r={negate:!1,skipPropertyNameValidation:!1,...t};return{type:h.CharacterSet,kind:b.property,value:r.skipPropertyNameValidation?e:dn(e),negate:r.negate}}function gn(e){return{type:h.VariableLengthCharacterSet,kind:W({"\\R":ye.newline,"\\X":ye.grapheme}[e],`Unexpected varcharset kind "${e}"`)}}function dn(e){const t=Ae(e);if(yt.has(t))throw new Error(m`Unicode property "\p{${e}}" unsupported in Oniguruma`);const r=wt.get(t);return r||e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}function mn(e){const t=e.alternatives[0].elements[0];return e.type===h.Group&&We(e,r=>r.type===h.Group)&&!(e.atomic&&t.flags)&&!(e.flags&&(t.atomic||t.flags))?(e.atomic?t.atomic=!0:e.flags&&(t.flags=e.flags),t):e}function Cn(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function _n(e){for(let t=0;t<e.classes.length;t++){const r=e.classes[t],n=r.elements[0];r.elements.length===1&&n.type===h.CharacterClass&&(e.classes[t]=n,n.negate=r.negate!==n.negate)}}function lt(e,t){return W(e,`${(t==null?void 0:t.value)===93?"Empty":"Unclosed"} character class`)}function ft(e){return W(e,"Unclosed group")}function wn(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t},n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:Ne(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};ne({node:e},n,Gt);const s={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:s,prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};ne({node:e},a,Rt);const i={groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer};return ne({node:e},i,yn),e._strategy=n.strategy,e}var Gt={AbsentFunction({node:e,replaceWith:t}){const r=H(B(),[ue(oe({negate:!0}),e.alternatives),te("Any")]),n=Ft(r,0,1/0);r.parent=n,t(H(B(),[n]))},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const s=e.elements.filter(a=>a.kind===Ce.flags);for(let a=r+1;a<t.alternatives.length;a++){const i=t.alternatives[a];we(n,i,[]).push(...s)}},exit({node:e},{flagDirectivesByAlt:t}){var r;if((r=t.get(e))!=null&&r.length){const n=Nt(t.get(e));if(n){const s=H(B({flags:n}),e.elements);s.parent=e,e.elements=[s]}}}},Assertion({node:e,key:t,container:r,ast:n,remove:s,replaceWith:a},i){const{kind:o,negate:u}=e,{asciiWordBoundaries:c,avoidSubclass:f,supportedGNodes:p,wordIsAscii:C}=i;if(o===y.line_end)a(N(m`(?=\z|\n)`));else if(o===y.line_start)a(N(m`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}));else if(o===y.lookbehind)i.passedLookbehind=!0;else if(o===y.search_start)if(p.has(e))n.flags.sticky=!0,s();else{const l=r[t-1];if(l&&zr(l))a(H(oe({negate:!0})));else{if(f)throw new Error(m`Uses "\G" in a way that requires a subclass`);a(Pt(y.string_start)),i.strategy="search_start_clip"}}else if(o===y.string_end_newline)a(N(m`(?=\n?\z)`));else if(o===y.word_boundary&&!C&&!c){const l=`(?:(?<=${j})(?!${j})|(?<!${j})(?=${j}))`,g=`(?:(?<=${j})(?=${j})|(?<!${j})(?!${j}))`;a(N(u?g:l))}},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Fe(r)&&(r=Oe(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!Fe(n)&&(n=Oe(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n,digitIsAscii:s,spaceIsAscii:a,wordIsAscii:i}){const{kind:o,negate:u,value:c}=e;if(s&&(o===b.digit||c==="digit")){t(Be(b.digit,{negate:u}));return}if(a&&(o===b.space||c==="space")){t(Ge(N(En),u));return}if(i&&(o===b.word||c==="word")){t(Be(b.word,{negate:u}));return}if(o===b.any)t(te("Any"));else if(o===b.digit)t(te("Nd",{negate:u}));else if(o===b.hex)t(te("AHex",{negate:u}));else if(o===b.non_newline)t(N(m`[^\n]`));else if(o===b.space)t(te("space",{negate:u}));else if(o===b.word)t(Ge(N(j),u));else if(o===b.property)_t.has(c)||(e.key="sc");else if(o===b.posix)if(!n&&(c==="graph"||c==="print")){if(r==="strict")throw new Error(`POSIX class "${c}" requires min target ES2024 or non-strict accuracy`);let f={graph:"!-~",print:" -~"}[c];u&&(f=`\0-${x(f.codePointAt(0)-1)}${x(f.codePointAt(2)+1)}-􏿿`),t(N(`[${f}]`))}else t(Ge(N(Et.get(c)),u))},Directive(e,t){const{node:r,parent:n,ast:s,remove:a,replaceWith:i,removeAllPrevSiblings:o,removeAllNextSiblings:u}=e,{kind:c,flags:f}=r;if(c===Ce.flags)if(!f.enable&&!f.disable)a();else{const p=H(B({flags:f}),u());i(p),Vt(p,e,t,Gt)}else if(c===Ce.keep){const p=s.pattern.alternatives[0].elements[0],l=We(s.pattern,g=>g.type===h.Group)&&p.alternatives.length===1?p:s.pattern;if(n.parent!==l||l.alternatives.length>1)throw new Error(m`Uses "\K" in a way that's unsupported`);i(H(oe({behind:!0}),o()))}},Flags({node:e,parent:t}){["digitIsAscii","extended","spaceIsAscii","wordIsAscii"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t!=null&&t.extended&&delete t.extended,r!=null&&r.extended&&delete r.extended,t!=null&&t.dotAll&&(r!=null&&r.dotAll)&&delete t.dotAll,t!=null&&t.ignoreCase&&(r!=null&&r.ignoreCase)&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},Pattern:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,s=!1;for(const a of e.alternatives)if(a.elements.length===1&&a.elements[0].kind===y.search_start)a.elements.pop();else{const i=Dt(a.elements);i?(n=!0,Array.isArray(i)?r.push(...i):r.push(i)):s=!0}n&&!s&&r.forEach(a=>t.add(a))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if(t==="strict"&&r&&n)throw new Error(m`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===h.Quantifier){const t=H(B(),[e.element]);t.parent=e,e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Fe(r)&&(r=Oe(r,t),e.ref=r)},VariableLengthCharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n}){const{kind:s}=e;if(s===ye.newline)t(N(`(?>\r
?|[
\v\f\u2028\u2029])`));else if(s===ye.grapheme){if(r==="strict")throw new Error(m`Use of "\X" requires non-strict accuracy`);const a=n?m`\p{RGI_Emoji}`:hr().source.replace(/\\u\{/g,"\\x{");t(N(m`(?>\r\n|${a}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}))}else throw new Error(`Unexpected varcharset kind "${s}"`)}},Rt={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:s}=e;n||r.set(e,[...t.get(s).map(({node:a})=>a)])},CapturingGroup:{enter({node:e,replaceWith:t,skip:r},{groupOriginByCopy:n,groupsByName:s,multiplexCapturesToLeftByRef:a,openRefs:i,reffedNodesByReferencer:o}){const u=n.get(e);if(u&&i.has(e.number)){const f=pt(e.number);o.set(f,i.get(e.number)),t(f),r();return}i.set(e.number,e),a.set(e.number,[]),e.name&&we(a,e.name,[]);const c=a.get(e.name??e.number);for(let f=0;f<c.length;f++){const p=c[f];if(u===p.node||u&&u===p.origin||e===p.origin){c.splice(f,1);break}}if(a.get(e.number).push({node:e,origin:u}),e.name&&a.get(e.name).push({node:e,origin:u}),e.name){const f=we(s,e.name,new Map);let p=!1;if(u)p=!0;else for(const C of f.values())if(!C.hasDuplicateNameToRemove){p=!0;break}s.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:p})}u&&(e._originNumber=u.number)},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=_e(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){const{ref:n}=e;let s=t;for(;(s=s.parent)&&!(s.type===h.CapturingGroup&&(s.name===n||s.number===n)););r.set(e,s)},Subroutine(e,t){const{node:r,replaceWith:n}=e,{ref:s}=r,a=t.subroutineRefMap.get(s),i=s===0,o=i?pt(0):Ut(a,t.groupOriginByCopy,null);let u=o;if(!i){const c=Nt(An(a,p=>p.type===h.Group&&!!p.flags)),f=c?_e(t.globalFlags,c):t.globalFlags;kn(f,t.currentFlags)||(u=H(B({flags:bn(f)}),[o]))}n(u),i||Vt(u,e,t,Rt)}},yn={Backreference({node:e,replaceWith:t},r){if(e.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref);return}const s=r.reffedNodesByReferencer.get(e).filter(a=>vn(a,e));if(!s.length)t(H(oe({negate:!0})));else if(s.length>1){const a=s.map(i=>ue(Z(),[Me(i.number)]));t(ue(B(),a))}else e.ref=s[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){e.ref!==0&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const s=Tt();e.pattern.alternatives.at(-1).elements.push(s)}}}},En="[	-\r ]",j=m`[\p{L}\p{M}\p{N}\p{Pc}]`;function ue(e,t){return t.forEach(r=>r.parent=e),e[ze(e)]=t,e}function kn(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function vn(e,t){let r=t;do{if(r.type===h.Pattern)return!1;if(r.type===h.Alternative)continue;if(r===e)return!1;const n=Mt(r.parent);for(const s of n){if(s===r)break;if(s===e||Bt(s,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}function Ut(e,t,r,n){const s=Array.isArray(e)?[]:{};for(const[a,i]of Object.entries(e))a==="parent"?s.parent=Array.isArray(r)?n:r:i&&typeof i=="object"?s[a]=Ut(i,t,s,r):(a==="type"&&i===h.CapturingGroup&&t.set(s,t.get(e)??e),s[a]=i);return s}function pt(e){return{type:h.Recursion,ref:e}}function An(e,t){const r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}function Oe(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function ze(e){for(const t of["alternatives","classes","elements"])if(e[t])return t;return null}function Nt(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:n})=>{t.forEach(s=>{var a,i;(a=n.enable)!=null&&a[s]&&(delete r.disable[s],r.enable[s]=!0),(i=n.disable)!=null&&i[s]&&(r.disable[s]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function bn({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}function Mt(e){if(!e)throw new Error("Node expected");if(e.type===h.Quantifier)return[e.element];const t=ze(e);return t&&e[t]}function Dt(e){const t=e.find(r=>r.kind===y.search_start||Sn(r,{negate:!1})||!Wr(r));if(!t)return null;if(t.kind===y.search_start)return t;if(le(t))return t.alternatives[0].elements[0];if(xt(t)){const r=[];for(const n of t.alternatives){const s=Dt(n.elements);if(!s)return null;Array.isArray(s)?r.push(...s):r.push(s)}return r}return null}function Bt(e,t){const r=Mt(e)??[];for(const n of r)if(n===t||Bt(n,t))return!0;return!1}function Sn(e,t){const r={negate:null,...t};return le(e)&&(r.negate===null||e.negate===r.negate)&&We(e,n=>n.kind===y.search_start)}function Fe(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function N(e,t){const n=Lt(St(e),t).pattern.alternatives;return n.length>1||n[0].elements.length>1?ue(B(),n):n[0].elements[0]}function H(e,t){const r=ze(e);return e[r][0].parent=e,t&&ue(e[r][0],t),e}function Ge(e,t){return e.negate=t,e}function Vt(e,{parent:t,key:r,container:n},s,a){ne({node:e,parent:t,key:r,container:n},s,a)}function In(e,t){const r=mt(t),n=Ne(r.target,"ES2024"),s=Ne(r.target,"ES2025"),a=r.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw new Error("Invalid recursionLimit; use 2-20");let i=null,o=null;if(!s){const l=[e.flags.ignoreCase];ne({node:e},{getCurrentModI:()=>l.at(-1),popModI(){l.pop()},pushModI(g){l.push(g)},setHasCasedChar(){l.at(-1)?i=!0:o=!0}},$n)}const u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||i)&&!o)};let c=null;const f={accuracy:r.accuracy,appliedGlobalFlags:u,avoidSubclass:r.avoidSubclass,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,recursionLimit:a,useAppliedIgnoreCase:!!(!s&&i&&o),useFlagMods:s,useFlagV:n,verbose:r.verbose};function p(l){switch(f.lastNode=c,c=l,l.type){case h.Regex:return{pattern:p(l.pattern),flags:p(l.flags),options:{...l.options}};case h.Alternative:return l.elements.map(p).join("");case h.Assertion:return On(l,f,p);case h.Backreference:return Fn(l,f);case h.CapturingGroup:return Gn(l,f,p);case h.Character:return Rn(l,f);case h.CharacterClass:return Un(l,f,p);case h.CharacterClassIntersection:if(!f.useFlagV)throw new Error("Use of class intersection requires min target ES2024");return l.classes.map(p).join("&&");case h.CharacterClassRange:return Nn(l,f);case h.CharacterSet:return Mn(l,f);case h.Flags:return Dn(l,f);case h.Group:return Bn(l,f,p);case h.Pattern:return l.alternatives.map(p).join("|");case h.Quantifier:return p(l.element)+Wn(l);case h.Recursion:return Vn(l,f);default:throw new Error(`Unexpected node type "${l.type}"`)}}const C=p(e);return n||(delete C.options.force.v,C.options.disable.v=!0,C.options.unicodeSetsPlugin=null),C}var $n={AnyGroup:{enter({node:e},t){const r=t.getCurrentModI();t.pushModI(e.flags?_e({ignoreCase:r},e.flags).ignoreCase:r)},exit(e,t){t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){Qe(x(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),jt(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===b.property&&kt.has(e.value)&&t.setHasCasedChar()}},xn=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Ln=new Set(["-","\\","]","^","["]),Pn=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),ht=new Map([[9,m`\t`],[10,m`\n`],[11,m`\v`],[12,m`\f`],[13,m`\r`],[8232,m`\u2028`],[8233,m`\u2029`],[65279,m`\uFEFF`]]),Tn=new RegExp("^\\p{Cased}$","u");function Qe(e){return Tn.test(e)}function On(e,t,r){const{kind:n,negate:s,alternatives:a}=e;if(le(e))return`(?${`${n===y.lookahead?"":"<"}${s?"!":"="}`}${a.map(r).join("|")})`;if(n===y.string_end)return"$";if(n===y.string_start)return"^";if(n===y.word_boundary)return s?m`\B`:m`\b`;throw new Error(`Unexpected assertion kind "${n}"`)}function Fn({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}function Gn({name:e,number:t,alternatives:r,_originNumber:n},s,a){return s.captureMap.set(t,{ignoreCase:s.currentFlags.ignoreCase}),`(${e?`?<${e}>`:""}${!s.avoidSubclass&&n?`${n<t?`$${n}`:""}${Y}`:""}${r.map(a).join("|")})`}function Rn({value:e},t){const r=x(e),n=re(e,{isAfterBackref:t.lastNode.type===h.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&Qe(r)){const s=Ct(r);return t.inCharClass?s.join(""):s.length>1?`[${s.join("")}]`:s[0]}return r}function Un({negate:e,parent:t,elements:r},n,s){var o;const a=()=>`[${e?"^":""}${r.map(s).join("")}]`;if(!n.inCharClass){n.inCharClass=!0;const u=a();return n.inCharClass=!1,u}const i=(o=r[0])==null?void 0:o.type;if(!e&&i&&((!n.useFlagV||!n.verbose)&&t.type===h.CharacterClass&&i!==h.CharacterClassIntersection||!n.verbose&&t.type===h.CharacterClassIntersection&&r.length===1&&i!==h.CharacterClass&&i!==h.CharacterClassRange))return r.map(s).join("");if(!n.useFlagV&&t.type===h.CharacterClass)throw new Error("Use of nested character class requires min target ES2024");return a()}function Nn(e,t){const r=e.min.value,n=e.max.value,s={isAfterBackref:!1,inCharClass:!0,useFlagV:t.useFlagV},a=re(r,s),i=re(n,s),o=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const u=jt(e);jn(u).forEach(f=>{o.add(Array.isArray(f)?`${re(f[0],s)}-${re(f[1],s)}`:re(f,s))})}return`${a}-${i}${[...o].join("")}`}function Mn({kind:e,negate:t,value:r,key:n},s){if(e===b.dot)return s.currentFlags.dotAll?s.appliedGlobalFlags.dotAll||s.useFlagMods?".":"[^]":m`[^\n]`;if(e===b.digit)return t?m`\D`:m`\d`;if(e===b.property){if(s.useAppliedIgnoreCase&&s.currentFlags.ignoreCase&&kt.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?m`\P`:m`\p`}{${n?`${n}=`:""}${r}}`}if(e===b.word)return t?m`\W`:m`\w`;throw new Error(`Unexpected character set kind "${e}"`)}function Dn(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")}function Bn({atomic:e,flags:t,parent:r,alternatives:n},s,a){const i=s.currentFlags;t&&(s.currentFlags=_e(i,t));const o=n.map(a).join("|"),u=!s.verbose&&n.length===1&&r.type!==h.Quantifier&&!e&&(!s.useFlagMods||!t)?o:`(?${Hn(e,t,s.useFlagMods)}${o})`;return s.currentFlags=i,u}function Vn({ref:e},t){const r=t.recursionLimit;return e===0?`(?R=${r})`:m`\g<${e}&R=${r}>`}function jt(e,t){const r=!!(t!=null&&t.firstOnly),n=e.min.value,s=e.max.value,a=[];if(n<65&&(s===65535||s>=131071)||n===65536&&s>=131071)return a;for(let i=n;i<=s;i++){const o=x(i);if(!Qe(o))continue;const u=Ct(o).filter(c=>{const f=c.codePointAt(0);return f<n||f>s});if(u.length&&(a.push(...u),r))break}return a}function re(e,{isAfterBackref:t,inCharClass:r,useFlagV:n}){if(ht.has(e))return ht.get(e);if(e<32||e>126&&e<160||e>262143||t&&zn(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const s=r?n?Pn:Ln:xn,a=x(e);return(s.has(a)?"\\":"")+a}function jn(e){const t=e.map(s=>s.codePointAt(0)).sort((s,a)=>s-a),r=[];let n=null;for(let s=0;s<t.length;s++)t[s+1]===t[s]+1?n??(n=t[s]):n===null?r.push(t[s]):(r.push([n,t[s]]),n=null);return r}function Hn(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:s,disable:a}=t;n=(s!=null&&s.ignoreCase?"i":"")+(s!=null&&s.dotAll?"s":"")+(a?"-":"")+(a!=null&&a.ignoreCase?"i":"")+(a!=null&&a.dotAll?"s":"")}return`${n}:`}function Wn({min:e,max:t,greedy:r,possessive:n}){let s;return!e&&t===1?s="?":!e&&t===1/0?s="*":e===1&&t===1/0?s="+":e===t?s=`{${e}}`:s=`{${e},${t===1/0?"":t}}`,s+(n?"+":r?"":"?")}function zn(e){return e>47&&e<58}var X,se,Qn=(se=class extends He{constructor(r,n,s){var t=(...ps)=>(super(...ps),Ye(this,X),ie(this,"rawArgs"),this);if(r instanceof RegExp){if(s)throw new Error("Cannot provide options when copying a regexp");t(r,n),r instanceof se?(he(this,X,Ie(r,X)),this.rawArgs=r.rawArgs):(he(this,X,null),this.rawArgs={pattern:r.source,flags:r.flags,options:{}}),n!==void 0&&(this.rawArgs.flags=n)}else{const a={strategy:null,useEmulationGroups:!1,...s};t(r,n,{useEmulationGroups:a.useEmulationGroups}),he(this,X,a.strategy),this.rawArgs={pattern:r,flags:n??"",options:{...a.strategy&&{strategy:a.strategy},...a.useEmulationGroups&&{useEmulationGroups:!0}}}}}exec(r){const n=super.exec,s=this.global||this.sticky,a=this.lastIndex;if(Ie(this,X)==="search_start_clip"&&s&&a){this.lastIndex=0;const i=n.call(this,r.slice(a));return i&&(Xn(i,this,r,a),this.lastIndex+=a),i}return n.call(this,r)}},X=new WeakMap,se);function Xn(e,t,r,n){if(e.input=r,e.index+=n,t.hasIndices){const s=e.indices;for(let i=0;i<s.length;i++){const o=s[i];o&&(s[i]=[o[0]+n,o[1]+n])}const a=s.groups;a&&Object.keys(a).forEach(i=>{const o=a[i];o&&(a[i]=[o[0]+n,o[1]+n])})}}function Zn(e,t){const r=mt(t),n=r.avoidSubclass,s=St(e,r.flags,{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}),a=Lt(s,{skipBackrefValidation:r.rules.allowOrphanBackrefs,verbose:r.verbose}),i=wn(a,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:n,bestEffortTarget:r.target}),o=In(i,r),u={useEmulationGroups:!n},c={pattern:yr(Er(vr(o.pattern,u)),u),flags:`${r.hasIndices?"d":""}${r.global?"g":""}${o.flags}${o.options.disable.v?"u":"v"}`},f=!n&&c.pattern.includes(Y),p=i._strategy;return(f||p)&&(c.options={...p&&{strategy:p},...f&&{useEmulationGroups:f}}),c}function qn(e,t){const r=Zn(e,t);return r.options?new Qn(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}const gt=4294967295;class Kn{constructor(t,r={}){ie(this,"regexps");this.patterns=t,this.options=r;const{forgiving:n=!1,cache:s,regexConstructor:a}=r;if(!a)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(i=>{if(typeof i!="string")return i;const o=s==null?void 0:s.get(i);if(o){if(o instanceof RegExp)return o;if(n)return null;throw o}try{const u=a(i);return s==null||s.set(i,u),u}catch(u){if(s==null||s.set(i,u),n)return null;throw u}})}findNextMatchSync(t,r,n){const s=typeof t=="string"?t:t.content,a=[];function i(o,u,c=0){return{index:o,captureIndices:u.indices.map(f=>f==null?{start:gt,end:gt,length:0}:{start:f[0]+c,end:f[1]+c,length:f[1]-f[0]})}}for(let o=0;o<this.regexps.length;o++){const u=this.regexps[o];if(u)try{u.lastIndex=r;const c=u.exec(s);if(!c)continue;if(c.index===r)return i(o,c,0);a.push([o,c,0])}catch(c){if(this.options.forgiving)continue;throw c}}if(a.length){const o=Math.min(...a.map(u=>u[1].index));for(const[u,c,f]of a)if(c.index===o)return i(u,c,f)}return null}}function Jn(e,t){return qn(e,{global:!0,hasIndices:!0,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function Yn(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||(t.regexConstructor=r=>Jn(r,{target:t.target})),{createScanner(r){return new Kn(r,t)},createString(r){return{content:r}}}}function Ht({langs:e=[],themes:t=[],bundledLangs:r={},bundledThemes:n={},getMdcConfigs:s,options:a,engine:i}={}){let o,u;async function c(){var F,G;const{createHighlighterCore:l,addClassToHast:g,isSpecialLang:_,isSpecialTheme:A}=await v(async()=>{const{createHighlighterCore:q,addClassToHast:ae,isSpecialLang:ee,isSpecialTheme:fe}=await import("./Bl8vYY-A.js");return{createHighlighterCore:q,addClassToHast:ae,isSpecialLang:ee,isSpecialTheme:fe}},__vite__mapDeps([0,1,2,3]),import.meta.url),{transformerNotationDiff:E,transformerNotationErrorLevel:O,transformerNotationFocus:S,transformerNotationHighlight:M}=await v(async()=>{const{transformerNotationDiff:q,transformerNotationErrorLevel:ae,transformerNotationFocus:ee,transformerNotationHighlight:fe}=await import("./By3oo1Hl.js");return{transformerNotationDiff:q,transformerNotationErrorLevel:ae,transformerNotationFocus:ee,transformerNotationHighlight:fe}},[],import.meta.url),V=await l({langs:e,themes:t,engine:i||Yn()});for await(const q of await p())await((G=(F=q.shiki)==null?void 0:F.setup)==null?void 0:G.call(F,V));return{shiki:V,addClassToHast:g,isSpecialLang:_,isSpecialTheme:A,transformers:[E(),O(),S(),M()]}}async function f(){return o||(o=c()),o}async function p(){return u||(u=Promise.resolve((s==null?void 0:s())||[])),u}return async(l,g,_,A={})=>{var Xe,Ze,qe;const{shiki:E,addClassToHast:O,isSpecialLang:S,isSpecialTheme:M,transformers:V}=await f(),F={defaultColor:!1,meta:{__raw:A.meta}};g==="ts-type"||g==="typescript-type"?(g="typescript",F.grammarContextCode="let a:"):(g==="vue-html"||g==="vue-template")&&(g="vue",F.grammarContextCode="<template>");const G={...typeof _=="string"?{default:_}:_||{}},q=E.getLoadedThemes(),ae=E.getLoadedLanguages();typeof g=="string"&&!ae.includes(g)&&!S(g)&&(r[g]?await E.loadLanguage(r[g]):g="text");for(const[k,I]of Object.entries(G))typeof I=="string"&&!q.includes(I)&&!M(I)&&(n[I]?await E.loadTheme(n[I]):G[k]="none");const ee=[...V];for(const k of await p()){const I=typeof((Xe=k.shiki)==null?void 0:Xe.transformers)=="function"?await((Ze=k.shiki)==null?void 0:Ze.transformers(l,g,_,A)):((qe=k.shiki)==null?void 0:qe.transformers)||[];ee.push(...I)}const K=E.codeToHast(l.trimEnd(),{lang:g,...F,themes:G,transformers:[...ee,{name:"mdc:highlight",line(k,I){var J;(J=A.highlights)!=null&&J.includes(I)&&O(k,"highlight"),k.properties.line=I}},{name:"mdc:newline",line(k){if(l!=null&&l.includes(`
`)){if(k.children.length===0||k.children.length===1&&k.children[0].type==="element"&&k.children[0].children.length===1&&k.children[0].children[0].type==="text"&&k.children[0].children[0].value===""){k.children=[{type:"element",tagName:"span",properties:{emptyLinePlaceholder:!0},children:[{type:"text",value:`
`}]}];return}const I=k.children.at(-1);if((I==null?void 0:I.type)==="element"&&I.tagName==="span"){const J=I.children.at(-1);(J==null?void 0:J.type)==="text"&&(J.value+=`
`)}}}}]}).children[0],Wt=K.children[0],pe=a==null?void 0:a.wrapperStyle;K.properties.style=pe?typeof pe=="string"?pe:K.properties.style:"";const Se=[];return Object.keys(G).forEach(k=>{const I=k!=="default"?`.${k}`:"";Se.push(pe?`${I} .shiki,`:"",`html .${k} .shiki span {`,`color: var(--shiki-${k});`,`background: var(--shiki-${k}-bg);`,`font-style: var(--shiki-${k}-font-style);`,`font-weight: var(--shiki-${k}-font-weight);`,`text-decoration: var(--shiki-${k}-text-decoration);`,"}"),Se.push(`html${I} .shiki span {`,`color: var(--shiki-${k});`,`background: var(--shiki-${k}-bg);`,`font-style: var(--shiki-${k}-font-style);`,`font-weight: var(--shiki-${k}-font-weight);`,`text-decoration: var(--shiki-${k}-text-decoration);`,"}")}),{tree:Wt.children,className:Array.isArray(K.properties.class)?K.properties.class.join(" "):K.properties.class,inlineStyle:K.properties.style,style:Se.join("")}}}const es={javascript:()=>v(()=>import("./ySlJ1b_l.js"),[],import.meta.url),js:()=>v(()=>import("./ySlJ1b_l.js"),[],import.meta.url),jsx:()=>v(()=>import("./BAng5TT0.js"),[],import.meta.url),json:()=>v(()=>import("./BQoSv7ci.js"),[],import.meta.url),typescript:()=>v(()=>import("./Dj6nwHGl.js"),[],import.meta.url),ts:()=>v(()=>import("./Dj6nwHGl.js"),[],import.meta.url),tsx:()=>v(()=>import("./B6W0miNI.js"),[],import.meta.url),vue:()=>v(()=>import("./DgrZC8Kp.js"),__vite__mapDeps([4,5,6,7,8,9,10]),import.meta.url),css:()=>v(()=>import("./BPhBrDlE.js"),[],import.meta.url),html:()=>v(()=>import("./BMYPR7BL.js"),__vite__mapDeps([5,6,7]),import.meta.url),shellscript:()=>v(()=>import("./atvbtKCR.js"),[],import.meta.url),bash:()=>v(()=>import("./atvbtKCR.js"),[],import.meta.url),sh:()=>v(()=>import("./atvbtKCR.js"),[],import.meta.url),shell:()=>v(()=>import("./atvbtKCR.js"),[],import.meta.url),zsh:()=>v(()=>import("./atvbtKCR.js"),[],import.meta.url),markdown:()=>v(()=>import("./UIAJJxZW.js"),[],import.meta.url),md:()=>v(()=>import("./UIAJJxZW.js"),[],import.meta.url),mdc:()=>v(()=>import("./BFay_et-.js"),__vite__mapDeps([11,12,13,10,5,6,7]),import.meta.url),yaml:()=>v(()=>import("./CVw76BM1.js"),[],import.meta.url),yml:()=>v(()=>import("./CVw76BM1.js"),[],import.meta.url),diff:()=>v(()=>import("./BgYniUM_.js"),[],import.meta.url),ini:()=>v(()=>import("./BjABl1g7.js"),[],import.meta.url),properties:()=>v(()=>import("./BjABl1g7.js"),[],import.meta.url),dotenv:()=>v(()=>import("./BjQB5zDj.js"),[],import.meta.url)},ts={"github-light":()=>v(()=>import("./DAi9KRSo.js"),[],import.meta.url).then(e=>e.default),"github-dark":()=>v(()=>import("./DHJKELXO.js"),[],import.meta.url).then(e=>e.default)},rs={},ns=pr(()=>v(()=>import("./CG6Dc4jp.js"),[],import.meta.url)),ss=Ht({bundledLangs:es,bundledThemes:ts,options:rs,getMdcConfigs:Xt,engine:ns}),cs=Object.freeze(Object.defineProperty({__proto__:null,createShikiHighlighter:Ht,default:ss},Symbol.toStringTag,{value:"Module"}));export{pr as c,us as g,cs as v};
