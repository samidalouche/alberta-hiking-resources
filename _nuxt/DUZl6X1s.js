import G from"./CotkUIwG.js";import{d as T,a as g,bd as V,q as F,b as c,u as n,w as m,n as r,o,r as b,c as y,f as u,s as v,a_ as s,b3 as N,t as $,b7 as j,b6 as p,bV as C,F as I,bg as U,b4 as E}from"./D-ZAHcwu.js";import L from"./Dl2c4cxZ.js";import{_ as O}from"./BFvDBF2W.js";import"./CZxse8KR.js";const P={key:0,class:"bg-background flex items-center border-b py-2 pl-3 pr-2 font-mono text-sm"},_={key:1,class:"absolute right-2 top-2 z-10"},q=T({__name:"ProseCode",props:{code:{default:""},language:{},filename:{},inGroup:{type:Boolean,default:!1},inTree:{type:Boolean,default:!1},inStack:{type:Boolean,default:!1},highlights:{},meta:{},height:{}},setup(e){const t=g(()=>{const a=e.meta?.split(" ")??[],i=new Map;for(const f of a){const[h,d]=f.split("=");i.set(h,d)}return i}),l=V(!1),B=g(()=>e.language==="mermaid"||t.value.has("mermaid")),k=new Map(Object.entries(F().value.main.codeIcon)),x=g(()=>{const a=e.filename?.toLowerCase();return t.value.get("icon")||a&&k.get(a)||e.language&&k.get(e.language)});return(a,i)=>{const f=G,h=N,d=L,w=j,z=U,S=E,M=O;return n(B)?(o(),c(f,{key:0,code:e.code,"parsed-meta":n(t)},{default:m(()=>[b(a.$slots,"default")]),_:3},8,["code","parsed-meta"])):(o(),c(M,{key:1,class:r(["bg-[#FBFBFB] dark:bg-[#121215] relative overflow-hidden [&:not(:first-child)]:mt-5 [&:not(:last-child)]:mb-5",[(e.inGroup||e.inTree)&&"mb-0 rounded-t-none border-none shadow-none",e.inStack&&"mb-0 rounded-none border-none shadow-none"]])},{default:m(()=>[!e.inGroup&&e.filename?(o(),y("div",P,[n(x)?(o(),c(h,{key:0,name:n(x),class:"mr-1.5"},null,8,["name"])):u("",!0),v("span",null,$(e.filename),1),s(d,{code:e.code,class:"ml-auto"},null,8,["code"])])):u("",!0),e.filename?u("",!0):(o(),y("div",_,[s(d,{code:e.code},null,8,["code"])])),n(t).has("collapse")?(o(),c(w,{key:2},{default:m(()=>[v("div",{style:p([(n(t).has("height")||e.height)&&!n(l)?`height: ${e.height||n(t).get("height")}px`:void 0]),class:r(["overflow-x-auto overflow-y-hidden py-3 text-sm",[!e.inGroup&&!e.inTree&&!e.filename&&"inline-copy",!e.language&&"pl-3",n(t).has("line-numbers")&&"show-line-number",n(l)&&"pb-14"]])},[b(a.$slots,"default")],6),s(C,{orientation:"horizontal"})]),_:3})):(o(),c(w,{key:3,style:p([(n(t).has("height")||e.height)&&`height: ${e.height||n(t).get("height")}px`])},{default:m(()=>[v("div",{class:r(["overflow-x-auto py-3 text-sm",[!e.inGroup&&!e.inTree&&!e.filename&&"inline-copy",!e.language&&"pl-3",n(t).has("line-numbers")&&"show-line-number"]])},[b(a.$slots,"default")],2),s(C,{orientation:"horizontal"})]),_:3},8,["style"])),n(t).has("collapse")?(o(),y("div",{key:4,class:r(["absolute inset-x-0 bottom-0 flex h-16 items-center justify-center rounded-b",[!n(l)&&"from-muted bg-gradient-to-t dark:from-zinc-950"]])},[s(S,{size:"sm",variant:"outline",onClick:i[0]||(i[0]=A=>l.value=!n(l))},{default:m(()=>[s(z,{name:n(l)?"lucide:chevron-up":"lucide:chevron-down",size:"18"},null,8,["name"]),I(" "+$(n(l)?a.$t("Collapse"):a.$t("Expand")),1)]),_:1})],2)):u("",!0)]),_:3},8,["class"]))}}}),Q=Object.assign(q,{__name:"ProseCode"});export{Q as default};
