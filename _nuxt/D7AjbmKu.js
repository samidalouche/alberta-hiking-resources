import{d as _,q as p,a as g,b as d,w as b,o as a,c as y,f as h,s as m,b3 as k,t as x,a_ as B,u as v}from"./BP_QjGH-.js";import{_ as C}from"./C-FsHhJV.js";import{_ as I}from"./mzDdCepQ.js";const T={key:0,class:"flex items-center border-b p-3 font-mono text-sm"},W={class:"bg-muted/30 w-auto p-2"},j=_({__name:"FileTree",props:{title:{},icon:{},autoSlash:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},tree:{}},setup(n){const l=new Map(Object.entries(p().value.main.codeIcon));function c(t,s){if(t!=="...")return t.endsWith("/")?"lucide:folder":l.get(t.split(".")[t.split(".").length-1])||l.get(t.toLowerCase())||(s==="file"?"lucide:file":"lucide:folder")}function f(t,s,o){let e=t,r=!1;e.startsWith("^")&&e.endsWith("^")&&(e=e.substring(1,e.length-1),r=!0);let i="none";return e.startsWith("+")?i="addition":e.startsWith("-")&&(i="deletion"),s==="file"?{title:e,icon:c(e,"file"),highlighted:r,diff:i}:{title:`${e}${n.autoSlash?"/":""}`,icon:c(e,"folder"),children:o&&u(o),highlighted:r,diff:i}}function u(t){const s=[];for(const o of t)if(typeof o=="string")s.push(f(o,"file"));else if(typeof o=="object")for(const e of Object.keys(o))s.push(f(e,"folder",o[e]));return s}const w=g(()=>u(n.tree));return(t,s)=>{const o=k,e=C,r=I;return a(),d(r,{class:"relative overflow-hidden [&:not(:first-child)]:mt-5 [&:not(:last-child)]:mb-5"},{default:b(()=>[n.title?(a(),y("div",T,[n.icon?(a(),d(o,{key:0,name:n.icon,class:"mr-1.5"},null,8,["name"])):h("",!0),m("span",null,x(n.title),1)])):h("",!0),m("div",W,[B(e,{tree:v(w),"show-arrow":n.showArrow,"show-icon":n.showIcon,level:0},null,8,["tree","show-arrow","show-icon"])])]),_:1})}}}),O=Object.assign(j,{__name:"FileTree"});export{O as default};
